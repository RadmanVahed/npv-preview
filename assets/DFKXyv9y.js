import{E as P,a9 as O,m as w,h as z,q as I,o as B,z as C,aa as J,c as T,y as j,F as K,a1 as Q,ab as W,a2 as Y,a3 as Z,p as N,w as _,A as H,b as ee,C as s,P as U,f as L,O as te,a4 as D,K as ae,ac as le,k as ne,ad as re,r as ie,S as oe,n as R,V as se,x as ue}from"./41CJtoaS.js";import{u as de}from"./DMqKhgQd.js";const ce=["INPUT","TEXTAREA"];function pe(i,e,a,l={}){if(!e||l.enableIgnoredElement&&ce.includes(e.nodeName))return null;const{arrowKeyOptions:r="both",attributeName:o="[data-reka-collection-item]",itemsArray:d=[],loop:u=!0,dir:h="ltr",preventScroll:V=!0,focus:E=!1}=l,[b,v,k,x,$,q]=[i.key==="ArrowRight",i.key==="ArrowLeft",i.key==="ArrowUp",i.key==="ArrowDown",i.key==="Home",i.key==="End"],y=k||x,c=b||v;if(!$&&!q&&(!y&&!c||r==="vertical"&&c||r==="horizontal"&&y))return null;const f=d;if(!f.length)return null;V&&i.preventDefault();let g=null;return c||y?g=X(f,e,{goForward:y?x:h==="ltr"?b:v,loop:u}):$?g=f.at(0)||null:q&&(g=f.at(-1)||null),E&&g?.focus(),g}function X(i,e,a,l=i.length){if(--l===0)return null;const r=i.indexOf(e),o=a.goForward?r+1:r-1;if(!a.loop&&(o<0||o>=i.length))return null;const d=(o+i.length)%i.length,u=i[d];return u?u.hasAttribute("disabled")&&u.getAttribute("disabled")!=="false"?X(i,u,a,l):u:null}const S=P({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(i){const e=i,{primitiveElement:a,currentElement:l}=O(),r=w(()=>e.checked??e.value);return z(r,(o,d)=>{if(!l.value)return;const u=l.value,h=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(h,"value").set;if(E&&o!==d){const b=new Event("input",{bubbles:!0}),v=new Event("change",{bubbles:!0});E.call(u,o),u.dispatchEvent(b),u.dispatchEvent(v)}}),(o,d)=>(B(),I(J,C({ref_key:"primitiveElement",ref:a},{...e,...o.$attrs},{as:"input"}),null,16))}}),fe=P({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(i){const e=i,a=w(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),l=w(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((r,o)=>typeof r=="object"?Object.entries(r).map(([d,u])=>({name:`[${e.name}][${o}][${d}]`,value:u})):{name:`[${e.name}][${o}]`,value:r}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([r,o])=>({name:`[${e.name}][${r}]`,value:o})):[]);return(r,o)=>a.value?(B(),I(S,C({key:r.name},{...e,...r.$attrs},{name:r.name,value:r.value}),null,16,["name","value"])):(B(!0),T(K,{key:1},j(l.value,d=>(B(),I(S,C({key:d.name,ref_for:!0},{...e,...r.$attrs},{name:d.name,value:d.value}),null,16,["name","value"]))),128))}}),[ve,me]=Q("PinInputRoot"),ge=P({inheritAttrs:!1,__name:"PinInputRoot",props:{modelValue:{},defaultValue:{},placeholder:{default:""},mask:{type:Boolean},otp:{type:Boolean},type:{default:"text"},dir:{},disabled:{type:Boolean},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","complete"],setup(i,{emit:e}){const a=i,l=e,{mask:r,otp:o,placeholder:d,type:u,disabled:h,dir:V}=W(a),{forwardRef:E}=Y(),b=de(V),v=Z(a,"modelValue",l,{defaultValue:a.defaultValue??[],passive:a.modelValue===void 0}),k=w(()=>Array.isArray(v.value)?[...v.value]:[]),x=N(new Set);function $(c){x.value.add(c)}const q=w(()=>a.type==="number"),y=w(()=>k.value.filter(f=>!!f||q.value&&f===0).length===x.value.size);return z(v,()=>{y.value&&l("complete",v.value)},{deep:!0}),me({modelValue:v,currentModelValue:k,mask:r,otp:o,placeholder:d,type:u,dir:b,disabled:h,isCompleted:y,inputElements:x,onInputElementChange:$,isNumericMode:q}),(c,f)=>(B(),I(s(U),C(c.$attrs,{ref:s(E),dir:s(b),"data-complete":y.value?"":void 0,"data-disabled":s(h)?"":void 0}),{default:_(()=>[H(c.$slots,"default",{modelValue:s(v)}),ee(fe,{id:c.id,as:"input",feature:"focusable",tabindex:"-1",value:k.value.join(""),name:c.name??"",disabled:s(h),required:c.required,onFocus:f[0]||(f[0]=g=>Array.from(x.value)?.[0]?.focus())},null,8,["id","value","name","disabled","required"])]),_:3},16,["dir","data-complete","data-disabled"]))}}),he=P({__name:"PinInputInput",props:{index:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},setup(i){const e=i,a=ve(),l=w(()=>Array.from(a.inputElements.value)),r=w(()=>a.currentModelValue.value[e.index]),o=w(()=>e.disabled||a.disabled.value),d=w(()=>a.otp.value),u=w(()=>a.mask.value),{primitiveElement:h,currentElement:V}=O();function E(t){const n=t.target;if((t.data?.length??0)>1){c(n.value);return}if(a.isNumericMode.value&&!/^\d*$/.test(n.value)){n.value=n.value.replace(/\D/g,"");return}n.value=n.value.slice(-1),g(e.index,n.value);const p=l.value[e.index+1];p&&p.focus()}function b(){const t=V.value;ae(()=>{t&&!t.value&&(t.placeholder=a.placeholder.value)})}function v(t){pe(t,le(),void 0,{itemsArray:l.value,focus:!0,loop:!1,arrowKeyOptions:"horizontal",dir:a.dir.value})}function k(t){if(t.preventDefault(),t.target.value)g(e.index,"");else{const m=l.value[e.index-1];m&&(m.focus(),g(e.index-1,""))}}function x(t){t.key==="Delete"&&(t.preventDefault(),g(e.index,""))}function $(t){const n=t.target;n.setSelectionRange(1,1),n.value||(n.placeholder="")}function q(t){b()}function y(t){t.preventDefault();const n=t.clipboardData;if(!n)return;const p=n.getData("text");c(p)}function c(t){const n=[...a.currentModelValue.value],p=t.length>=l.value.length?0:e.index,m=Math.min(p+t.length,l.value.length);for(let A=p;A<m;A++){const M=l.value[A],F=t[A-p];a.isNumericMode.value&&!/^\d*$/.test(F)||(n[A]=F,M.focus())}a.modelValue.value=n,l.value[m]?.focus()}function f(t){let n=t.length-1;for(;n>=0&&t[n]==="";)t.pop(),n--;return t}function g(t,n){const p=[...a.currentModelValue.value];if(a.isNumericMode.value){const m=+n;n===""||isNaN(m)?delete p[t]:p[t]=m}else p[t]=n;a.modelValue.value=f(p)}return z(r,()=>{r.value||b()}),L(()=>{a.onInputElementChange(V.value)}),te(()=>{a.inputElements?.value.delete(V.value)}),(t,n)=>(B(),I(s(U),{ref_key:"primitiveElement",ref:h,autocapitalize:"none",as:t.as,"as-child":t.asChild,autocomplete:d.value?"one-time-code":"false",type:u.value?"password":"text",inputmode:s(a).isNumericMode.value?"numeric":"text",pattern:s(a).isNumericMode.value?"[0-9]*":void 0,placeholder:s(a).placeholder.value,value:r.value,disabled:o.value,"data-disabled":o.value?"":void 0,"data-complete":s(a).isCompleted.value?"":void 0,"aria-label":`pin input ${t.index+1} of ${l.value.length}`,onInput:n[0]||(n[0]=p=>E(p)),onKeydown:[D(v,["left","right","up","down","home","end"]),D(k,["backspace"]),D(x,["delete"])],onFocus:$,onBlur:q,onPaste:y},{default:_(()=>[H(t.$slots,"default")]),_:3},8,["as","as-child","autocomplete","type","inputmode","pattern","placeholder","value","disabled","data-disabled","data-complete","aria-label"]))}}),be={slots:{root:"relative inline-flex items-center gap-1.5",base:["rounded-md border-0 placeholder:text-dimmed text-center focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"]},variants:{size:{xs:{base:"size-6 text-xs"},sm:{base:"size-7 text-xs"},md:{base:"size-8 text-sm"},lg:{base:"size-9 text-sm"},xl:{base:"size-10 text-base"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},highlight:{true:""}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},xe={__name:"UPinInput",props:{as:{type:null,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},length:{type:[Number,String],required:!1,default:5},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},highlight:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultValue:{type:Array,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},mask:{type:Boolean,required:!1},modelValue:{type:null,required:!1},name:{type:String,required:!1},otp:{type:Boolean,required:!1},placeholder:{type:String,required:!1},required:{type:Boolean,required:!1},type:{type:null,required:!1,default:"text"}},emits:["update:modelValue","complete","change","blur"],setup(i,{expose:e,emit:a}){const l=i,r=a,o=ne(),d=re(ie(l,"defaultValue","disabled","id","mask","modelValue","name","otp","required","type"),r),{emitFormInput:u,emitFormFocus:h,emitFormChange:V,emitFormBlur:E,size:b,color:v,id:k,name:x,highlight:$,disabled:q,ariaAttrs:y}=oe(l),c=w(()=>R({extend:R(be),...o.ui?.pinInput||{}})({color:v.value,variant:l.variant,size:b.value,highlight:$.value})),f=N([]),g=N(!1);function t(m){const A=new Event("change",{target:{value:m}});r("change",A),V()}function n(m){(!m.relatedTarget||g.value)&&(r("blur",m),E())}function p(){l.autofocus&&f.value[0]?.$el?.focus()}return L(()=>{setTimeout(()=>{p()},l.autofocusDelay)}),e({inputsRef:f}),(m,A)=>(B(),I(s(ge),C({...s(d),...s(y)},{id:s(k),name:s(x),placeholder:i.placeholder,class:c.value.root({class:[l.ui?.root,l.class]}),"onUpdate:modelValue":A[0]||(A[0]=M=>s(u)()),onComplete:t}),{default:_(()=>[(B(!0),T(K,null,j(s(se)(l.length),(M,F)=>(B(),I(s(he),{key:M,ref_for:!0,ref:G=>f.value[F]=G,index:F,class:ue(c.value.base({class:l.ui?.base})),disabled:s(q),onBlur:n,onFocus:s(h)},null,8,["index","class","disabled","onFocus"]))),128))]),_:1},16,["id","name","placeholder","class"]))}};export{xe as _,fe as a};
